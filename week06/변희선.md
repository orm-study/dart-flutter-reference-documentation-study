Dart(Asynchronous programming: futures, async, await)

ê³µì‹ë¬¸ì„œ : https://dart.dev/libraries/async/async-await

This tutorial teaches you how to write asynchronous code using futures and theÂ `async`Â andÂ `await`Â keywords. Using embedded DartPad editors, you can test your knowledge by running example code and completing exercises.

To get the most out of this tutorial, you should have the following:

- Knowledge ofÂ [basic Dart syntax](https://dart.dev/language).
- Some experience writing asynchronous code in another language.
- TheÂ [`discarded_futures`](https://dart.dev/tools/linter-rules/discarded_futures)Â andÂ [`unawaited_futures`](https://dart.dev/tools/linter-rules/unawaited_futures)Â lints enabled.

This tutorial covers the following material:

- How and when to use theÂ `async`Â andÂ `await`Â keywords.
- How usingÂ `async`Â andÂ `await`Â affects execution order.
- How to handle errors from an asynchronous call usingÂ `try-catch`Â expressions inÂ `async`Â functions.

Estimated time to complete this tutorial: 40-60 minutes.

> ì´ íŠœí† ë¦¬ì–¼ì—ì„œëŠ” í“¨ì²˜ì™€ ë¹„ë™ê¸° ë° ëŒ€ê¸° í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë¹„ë™ê¸° ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ë°©ë²•ì„ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤. ë‚´ì¥ëœ ë‹¤íŠ¸íŒ¨ë“œ í¸ì§‘ê¸°ë¥¼ ì‚¬ìš©í•˜ì—¬ ì˜ˆì œ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ê³  ì—°ìŠµ ë¬¸ì œë¥¼ ì™„ë£Œí•˜ì—¬ ì§€ì‹ì„ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ììŠµì„œë¥¼ ìµœëŒ€í•œ í™œìš©í•˜ë ¤ë©´ ë‹¤ìŒì´ í•„ìš”í•©ë‹ˆë‹¤.
-  ê¸°ë³¸ ë‹¤íŠ¸ êµ¬ë¬¸ì— ëŒ€í•œ ì§€ì‹. 
- ë‹¤ë¥¸ ì–¸ì–´ë¡œ ë¹„ë™ê¸° ì½”ë“œë¥¼ ì‘ì„±í•œ ê²½í—˜.
- discarded_futures ë° unawaited_futures ë¦°íŠ¸ í™œì„±í™”.
 ì´ ììŠµì„œì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë‚´ìš©ì„ ë‹¤ë£¹ë‹ˆë‹¤. 
- ë¹„ë™ê¸° ë° ëŒ€ê¸° í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ê³¼ ì‹œê¸°.
- ë¹„ë™ê¸° ë° ëŒ€ê¸° í‚¤ì›Œë“œ ì‚¬ìš©ì´ ì‹¤í–‰ ìˆœì„œì— ë¯¸ì¹˜ëŠ” ì˜í–¥. 
- ë¹„ë™ê¸° í•¨ìˆ˜ì—ì„œ try-catch í‘œí˜„ì‹ì„ ì‚¬ìš©í•˜ì—¬ ë¹„ë™ê¸° í˜¸ì¶œì—ì„œ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•.
> 

**Why asynchronous code matters**[#](https://dart.dev/libraries/async/async-await#why-asynchronous-code-matters)

Asynchronous operations let your program complete work while waiting for another operation to finish. Here are some common asynchronous operations:

- Fetching data over a network.
- Writing to a database.
- Reading data from a file.

Such asynchronous computations usually provide their result as aÂ `Future`Â or, if the result has multiple parts, as aÂ `Stream`. These computations introduce asynchrony into a program. To accommodate that initial asynchrony, other plain Dart functions also need to become asynchronous.

To interact with these asynchronous results, you can use theÂ `async`Â andÂ `await`Â keywords. Most asynchronous functions are just async Dart functions that depend, possibly deep down, on an inherently asynchronous computation.

> ë¹„ë™ê¸° ì½”ë“œê°€ ì¤‘ìš”í•œ ì´ìœ  #
 ë¹„ë™ê¸° ì—°ì‚°ì„ ì‚¬ìš©í•˜ë©´ ë‹¤ë¥¸ ì—°ì‚°ì´ ì™„ë£Œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ëŠ” ë™ì•ˆ í”„ë¡œê·¸ë¨ì´ ì‘ì—…ì„ ì™„ë£Œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒì€ ëª‡ ê°€ì§€ ì¼ë°˜ì ì¸ ë¹„ë™ê¸° ì—°ì‚°ì…ë‹ˆë‹¤. 
- ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
-  ë°ì´í„°ë² ì´ìŠ¤ì— ì“°ê¸°
-  íŒŒì¼ì—ì„œ ë°ì´í„° ì½ê¸° 

ì´ëŸ¬í•œ ë¹„ë™ê¸° ì—°ì‚°ì€ ì¼ë°˜ì ìœ¼ë¡œ ê²°ê³¼ë¥¼ í“¨ì²˜ë¡œ ì œê³µí•˜ê±°ë‚˜, ê²°ê³¼ê°€ ì—¬ëŸ¬ ë¶€ë¶„ìœ¼ë¡œ êµ¬ì„±ëœ ê²½ìš° ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ì œê³µí•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ê³„ì‚°ì€ í”„ë¡œê·¸ë¨ì— ë¹„ë™ê¸°ë¥¼ ë„ì…í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ì´ˆê¸° ë¹„ë™ê¸°ë¥¼ ìˆ˜ìš©í•˜ë ¤ë©´ ë‹¤ë¥¸ ì¼ë°˜ Dart í•¨ìˆ˜ë„ ë¹„ë™ê¸°í™”í•´ì•¼ í•©ë‹ˆë‹¤. 
ì´ëŸ¬í•œ ë¹„ë™ê¸° ê²°ê³¼ì™€ ìƒí˜¸ ì‘ìš©í•˜ë ¤ë©´ ë¹„ë™ê¸° ë° ëŒ€ê¸° í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ëŒ€ë¶€ë¶„ì˜ ë¹„ë™ê¸° í•¨ìˆ˜ëŠ” ë³¸ì§ˆì ìœ¼ë¡œ ë¹„ë™ê¸° ê³„ì‚°ì— ì˜ì¡´í•˜ëŠ” ë¹„ë™ê¸° ë‹¤íŠ¸ í•¨ìˆ˜ì¼ ë¿ì…ë‹ˆë‹¤.
> 

<aside>
ğŸ’¡

**Key terms**

- **synchronous operation**: A synchronous operation blocks other operations from executing until it completes.
    - **ë™ê¸° ì‘ì—…**: ì™„ë£Œë  ë•Œê¹Œì§€ ë‹¤ë¥¸ ì‘ì—…ì˜ ì‹¤í–‰ì„ ë§‰ëŠ” ì‘ì—….
- **synchronous function**: A synchronous function only performs synchronous operations.
    - **ë™ê¸° í•¨ìˆ˜**: ì˜¤ì§ ë™ê¸° ì‘ì—…ë§Œ ìˆ˜í–‰í•˜ëŠ” í•¨ìˆ˜.
- **asynchronous operation**: Once initiated, an asynchronous operation allows other operations to execute before it completes.
    - **ë¹„ë™ê¸° ì‘ì—…**: ì‹œì‘ë˜ë©´ ì™„ë£Œë˜ê¸° ì „ì— ë‹¤ë¥¸ ì‘ì—…ë“¤ì´ ì‹¤í–‰ë  ìˆ˜ ìˆëŠ” ì‘ì—….
- **asynchronous function**: An asynchronous function performs at least one asynchronous operation and can also performÂ *synchronous*Â operations.
    - **ë¹„ë™ê¸° í•¨ìˆ˜**: ì ì–´ë„ í•˜ë‚˜ì˜ ë¹„ë™ê¸° ì‘ì—…ì„ ìˆ˜í–‰í•˜ë©°, ë™ê¸° ì‘ì—…ë„ í•¨ê»˜ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜.
</aside>

**What is a future?**[#](https://dart.dev/libraries/async/async-await#what-is-a-future)

A future (lower case "f") is an instance of theÂ [Future](https://api.dart.dev/stable/dart-async/Future-class.html)Â (capitalized "F") class. A future represents the result of an asynchronous operation, and can have two states: uncompleted or completed.

> í“¨ì²˜ë€ ë¬´ì—‡ì¸ê°€ìš”? #
 í“¨ì²˜(ì†Œë¬¸ì "f")ëŠ” Future(ëŒ€ë¬¸ì "F") í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ì…ë‹ˆë‹¤. í“¨ì²˜ëŠ” ë¹„ë™ê¸° ì—°ì‚°ì˜ ê²°ê³¼ë¥¼ ë‚˜íƒ€ë‚´ë©° ë¯¸ì™„ë£Œ ë˜ëŠ” ì™„ë£Œì˜ ë‘ ê°€ì§€ ìƒíƒœë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> 

**Uncompleted**[#](https://dart.dev/libraries/async/async-await#uncompleted)

When you call an asynchronous function, it returns an uncompleted future. That future is waiting for the function's asynchronous operation to finish or to throw an error.

**Completed**[#](https://dart.dev/libraries/async/async-await#completed)

If the asynchronous operation succeeds, the future completes with a value. Otherwise, it completes with an error.

**Completing with a value**[#](https://dart.dev/libraries/async/async-await#completing-with-a-value)

A future of typeÂ `Future<T>`Â completes with a value of typeÂ `T`. For example, a future with typeÂ `Future<String>`Â produces a string value. If a future doesn't produce a usable value, then the future's type isÂ `Future<void>`.

**Completing with an error**[#](https://dart.dev/libraries/async/async-await#completing-with-an-error)

If the asynchronous operation performed by the function fails for any reason, the future completes with an error.

> **ë¯¸ì™„ë£Œ ìƒíƒœ**
> 
> - ë¹„ë™ê¸° í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ì™„ë£Œë˜ì§€ ì•Šì€ futureê°€ ë°˜í™˜ë©ë‹ˆë‹¤. ì´ futureëŠ” í•¨ìˆ˜ì˜ ë¹„ë™ê¸° ì‘ì—…ì´ ì™„ë£Œë˜ê±°ë‚˜ ì˜¤ë¥˜ê°€ ë°œìƒí•  ë•Œê¹Œì§€ ëŒ€ê¸°í•©ë‹ˆë‹¤.
> 
> **ì™„ë£Œ ìƒíƒœ**
> 
> - ë¹„ë™ê¸° ì‘ì—…ì´ ì„±ê³µí•˜ë©´ futureëŠ” ê°’ì„ ë°˜í™˜í•˜ë©° ì™„ë£Œë©ë‹ˆë‹¤. ë°˜ëŒ€ë¡œ ì‘ì—…ì´ ì‹¤íŒ¨í•˜ë©´ futureëŠ” ì˜¤ë¥˜ë¡œ ì™„ë£Œë©ë‹ˆë‹¤.
> 
> **ê°’ìœ¼ë¡œ ì™„ë£Œ**
> 
> - `Future<T>` íƒ€ì…ì˜ futureëŠ” `T` íƒ€ì…ì˜ ê°’ì„ ë°˜í™˜í•˜ë©° ì™„ë£Œë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, `Future<String>`ì€ ë¬¸ìì—´ ê°’ì„ ë°˜í™˜í•©ë‹ˆë‹¤. ê°’ì´ í•„ìš” ì—†ëŠ” ê²½ìš°, `Future<void>`ê°€ ì‚¬ìš©ë©ë‹ˆë‹¤.
> 
> **ì˜¤ë¥˜ë¡œ ì™„ë£Œ**
> 
> - í•¨ìˆ˜ì˜ ë¹„ë™ê¸° ì‘ì—…ì´ ì‹¤íŒ¨í•˜ë©´ futureëŠ” ì˜¤ë¥˜ë¡œ ì™„ë£Œë©ë‹ˆë‹¤.

<aside>
ğŸ’¡

**Quick review**

- AÂ [Future<T>](https://api.dart.dev/stable/dart-async/Future-class.html)Â instance produces a value of typeÂ `T`.
    - `Future<T>`ëŠ” `T` íƒ€ì…ì˜ ê°’ì„ ë°˜í™˜í•˜ëŠ” ê°ì²´ì…ë‹ˆë‹¤.
- If a future doesn't produce a usable value, then the future's type isÂ `Future<void>`.
    - ë§Œì•½ ë°˜í™˜í•  ê°’ì´ ì—†ë‹¤ë©´ `Future<void>` íƒ€ì…ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
- A future can be in one of two states: uncompleted or completed.
    - FutureëŠ” ë‘ ê°€ì§€ ìƒíƒœë¥¼ ê°€ì§‘ë‹ˆë‹¤: **ë¯¸ì™„ë£Œ** ë˜ëŠ” **ì™„ë£Œ**.
- When you call a function that returns a future, the function queues up work to be done and returns an uncompleted future.
    - Futureë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´, ì‘ì—…ì„ ì˜ˆì•½í•˜ê³  **ë¯¸ì™„ë£Œ**ëœ futureë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
- When a future's operation finishes, the future completes with a value or with an error.
    - Futureì˜ ì‘ì—…ì´ ì™„ë£Œë˜ë©´, ê°’ ë˜ëŠ” ì˜¤ë¥˜ì™€ í•¨ê»˜ **ì™„ë£Œ**ë©ë‹ˆë‹¤.

**Key terms:**

- **Future**: the DartÂ [Future](https://api.dart.dev/stable/dart-async/Future-class.html)Â class.
    - **Future**: Dartì˜ Future í´ë˜ìŠ¤.
- **future**: an instance of the DartÂ `Future`Â class.
    - **future**: Dart Future í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤.
</aside>

**Working with futures: async and await**[#](https://dart.dev/libraries/async/async-await#working-with-futures-async-and-await)

TheÂ `async`Â andÂ `await`Â keywords provide a declarative way to define asynchronous functions and use their results. Remember these two basic guidelines when usingÂ `async`Â andÂ `await`:

- **To define an async function, addÂ `async`Â before the function body:**
- **TheÂ `await`Â keyword works only inÂ `async`Â functions.**

Here's an example that convertsÂ `main()`Â from a synchronous to asynchronous function.

> í“¨ì²˜ë¡œ ì‘ì—…í•˜ê¸°: ë¹„ë™ê¸° ë° await #
 ë¹„ë™ê¸° ë° await í‚¤ì›Œë“œëŠ” ë¹„ë™ê¸° í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ê³  ê·¸ ê²°ê³¼ë¥¼ ì‚¬ìš©í•˜ëŠ” ì„ ì–¸ì  ë°©ë²•ì„ ì œê³µí•©ë‹ˆë‹¤. ë¹„ë™ê¸° í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ë ¤ë©´ í•¨ìˆ˜ ë³¸ë¬¸ ì•ì— asyncë¥¼ ì¶”ê°€í•˜ì„¸ìš”: await í‚¤ì›Œë“œëŠ” ë¹„ë™ê¸° í•¨ìˆ˜ì—ì„œë§Œ ì‘ë™í•©ë‹ˆë‹¤. ë‹¤ìŒì€ main()ì„ ë™ê¸° í•¨ìˆ˜ì—ì„œ ë¹„ë™ê¸° í•¨ìˆ˜ë¡œ ë³€í™˜í•˜ëŠ” ì˜ˆì œì…ë‹ˆë‹¤.
> 

First, add theÂ `async`Â keyword before the function body:

```dart
void main() async { Â·Â·Â· }
```

If the function has a declared return type, then update the type to beÂ `Future<T>`, whereÂ `T`Â is the type of the value that the function returns. If the function doesn't explicitly return a value, then the return type isÂ `Future<void>`:

```dart
Future<void> main() async { Â·Â·Â· }
```

Now that you have anÂ `async`Â function, you can use theÂ `await`Â keyword to wait for a future to complete:

```dart
print(await createOrderMessage());
```

As the following two examples show, theÂ `async`Â andÂ `await`Â keywords result in asynchronous code that looks a lot like synchronous code. The only differences are highlighted in the asynchronous example, whichâ€”if your window is wide enoughâ€”is to the right of the synchronous example.

**Example: synchronous functions**[#](https://dart.dev/libraries/async/async-await#example-synchronous-functions)

```dart
String createOrderMessage() {
  var order = fetchUserOrder();
  return 'Your order is: $order';
}

Future<String> fetchUserOrder() =>
    Future.delayed(
      const Duration(seconds: 2),
      () => 'Large Latte',
    );

void main() {
  print('Fetching user order...');
  print(createOrderMessage());
}

```

```dart
Fetching user order...
Your order is: Instance of 'Future<String>'
```

As shown in following two examples, it operates like synchronous code.

**Example: asynchronous functions**[#](https://dart.dev/libraries/async/async-await#example-asynchronous-functions)

```dart
Future<String> createOrderMessage() async {
  var order = await fetchUserOrder();
  return 'Your order is: $order';
}

Future<String> fetchUserOrder() =>
    Future.delayed(
      const Duration(seconds: 2),
      () => 'Large Latte',
    );

Future<void> main() async {
  print('Fetching user order...');
  print(await createOrderMessage());
}
```

```dart
Fetching user order...
Your order is: Large Latte
```

The asynchronous example is different in three ways:

- The return type forÂ `createOrderMessage()`Â changes fromÂ `String`Â toÂ `Future<String>`.
- TheÂ **`async`**Â keyword appears before the function bodies forÂ `createOrderMessage()`Â andÂ `main()`.
- TheÂ **`await`**Â keyword appears before calling the asynchronous functionsÂ `fetchUserOrder()`Â andÂ `createOrderMessage()`.

**Key terms**
â€¢ **async**: You can use theÂ `async`Â keyword before a function's body to mark it as asynchronous.
â€¢ **async function**: AnÂ `async`Â function is a function labeled with theÂ `async`Â keyword.
â€¢ **await**: You can use theÂ `await`Â keyword to get the completed result of an asynchronous expression. TheÂ `await`Â keyword only works within anÂ `async`Â function.

> **ë¹„ë™ê¸° ì½”ë“œì˜ ì„¸ ê°€ì§€ ì°¨ì´ì **
> 
> 1. í•¨ìˆ˜ì˜ ë°˜í™˜ íƒ€ì…ì´ `String`ì—ì„œ `Future<String>`ìœ¼ë¡œ ë³€ê²½ë©ë‹ˆë‹¤.
> 2. `async` í‚¤ì›Œë“œë¥¼ í•¨ìˆ˜ ë³¸ë¬¸ ì•ì— ì¶”ê°€í•©ë‹ˆë‹¤.
> 3. `await` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë¹„ë™ê¸° í•¨ìˆ˜ì˜ ì™„ë£Œëœ ê²°ê³¼ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
> 
> **ì£¼ìš” ìš©ì–´**
> 
> - **async**: í•¨ìˆ˜ê°€ ë¹„ë™ê¸°ì„ì„ ë‚˜íƒ€ë‚´ê¸° ìœ„í•´ í•¨ìˆ˜ ì•ì— ì‚¬ìš©í•˜ëŠ” í‚¤ì›Œë“œ.
> - **async function**: `async` í‚¤ì›Œë“œë¡œ í‘œì‹œëœ ë¹„ë™ê¸° í•¨ìˆ˜.
> - **await**: ë¹„ë™ê¸° í‘œí˜„ì‹ì˜ ì™„ë£Œëœ ê²°ê³¼ë¥¼ ì–»ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” í‚¤ì›Œë“œ (ë¹„ë™ê¸° í•¨ìˆ˜ ë‚´ì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥).

**Execution flow with async and await**[#](https://dart.dev/libraries/async/async-await#execution-flow-with-async-and-await)

AnÂ `async`Â function runs synchronously until the firstÂ `await`Â keyword. This means that within anÂ `async`Â function body, all synchronous code before the firstÂ `await`Â keyword executes immediately.

> ë¹„ë™ê¸° ë° awaitì„ ì‚¬ìš©í•œ ì‹¤í–‰ íë¦„ # ë¹„ë™ê¸° í•¨ìˆ˜ëŠ” ì²« ë²ˆì§¸ await í‚¤ì›Œë“œê¹Œì§€ ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤. 
ì¦‰, ë¹„ë™ê¸° í•¨ìˆ˜ ë³¸ë¬¸ ë‚´ì—ì„œ ì²« ë²ˆì§¸ await í‚¤ì›Œë“œ ì´ì „ì˜ ëª¨ë“  ë™ê¸°ì‹ ì½”ë“œëŠ” ì¦‰ì‹œ ì‹¤í–‰ë©ë‹ˆë‹¤.
> 

ë¹„ë™ê¸° í•¨ìˆ˜ëŠ” ì²« ë²ˆì§¸ `await` í‚¤ì›Œë“œê°€ ë‚˜ì˜¬ ë•Œê¹Œì§€ëŠ” ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤. ì¦‰, ë¹„ë™ê¸° í•¨ìˆ˜ ë‚´ì˜ ëª¨ë“  ë™ê¸° ì½”ë“œëŠ” ì²« ë²ˆì§¸ `await` ì´ì „ì— ì¦‰ì‹œ ì‹¤í–‰ë©ë‹ˆë‹¤.

### ì‹¤í–‰ íë¦„ ì˜ˆì‹œ

ë‹¤ìŒ ì½”ë“œ ì˜ˆì‹œì—ì„œ ë¹„ë™ê¸° í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì‹¤í–‰ íë¦„ì´ ì–´ë–»ê²Œ ì§„í–‰ë˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```dart
dartì½”ë“œ ë³µì‚¬
Future<void> printOrderMessage() async {
  print('Fetching user order...');
  var order = await fetchUserOrder();
  print('Awaiting user order...');
  print('Your order is: $order');
}

```

ì—¬ê¸°ì„œ ì²« ë²ˆì§¸ `await` ì´ì „ì— ìˆëŠ” `print('Fetching user order...')`ëŠ” ì¦‰ì‹œ ì‹¤í–‰ë˜ê³ , ê·¸ ì´í›„ì— ë¹„ë™ê¸° ì‘ì—…ì´ ì‹¤í–‰ë©ë‹ˆë‹¤. `await` ì´í›„ì˜ ì½”ë“œëŠ” ë¹„ë™ê¸° ì‘ì—…ì´ ì™„ë£Œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦½ë‹ˆë‹¤.

### `await` ìœ„ì¹˜ì— ë”°ë¥¸ ì¶œë ¥ì˜ ì°¨ì´

```dart
dartì½”ë“œ ë³µì‚¬
var order = await fetchUserOrder();
print('Awaiting user order...');

```

ì´ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ `await` ë’¤ì— ìˆëŠ” `print('Awaiting user order...')`ëŠ” ë¹„ë™ê¸° ì‘ì—…ì´ ì™„ë£Œëœ í›„ì— ì‹¤í–‰ë©ë‹ˆë‹¤. ë”°ë¼ì„œ ì¶œë ¥ì˜ ìˆœì„œê°€ ë³€ê²½ë©ë‹ˆë‹¤.

---

### ì‹¤ìŠµ: `async`ì™€ `await` ì‚¬ìš© ì—°ìŠµ

ì£¼ì–´ì§„ í•¨ìˆ˜ë“¤ì„ ì‚¬ìš©í•˜ì—¬ ë¹„ë™ê¸° ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” ì—°ìŠµì„ í•©ë‹ˆë‹¤.

### ì œê³µëœ í•¨ìˆ˜

- `fetchRole()`: ì‚¬ìš©ìì˜ ì—­í• ì„ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜.
    
    ```dart
    dartì½”ë“œ ë³µì‚¬
    Future<String> fetchRole()
    
    ```
    
- `fetchLoginAmount()`: ì‚¬ìš©ìê°€ ë¡œê·¸ì¸í•œ íšŸìˆ˜ë¥¼ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜.
    
    ```dart
    dartì½”ë“œ ë³µì‚¬
    Future<int> fetchLoginAmount()
    
    ```
    

### Part 1: `reportUserRole()` êµ¬í˜„

ì‚¬ìš©ì ì—­í• ì„ ê°€ì ¸ì˜¤ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜ì…ë‹ˆë‹¤. ë‹¤ìŒ ì‘ì—…ì„ ìˆ˜í–‰í•´ì•¼ í•©ë‹ˆë‹¤:

1. `"User role: <user role>"` í˜•ì‹ì˜ ë¬¸ìì—´ì„ ë°˜í™˜.
2. ì‹¤ì œ `fetchRole()` í•¨ìˆ˜ì˜ ë°˜í™˜ê°’ì„ ì‚¬ìš©.

```dart
dartì½”ë“œ ë³µì‚¬
Future<String> reportUserRole() async {
  var role = await fetchRole();
  return 'User role: $role';
}

```

### Part 2: `reportLogins()` êµ¬í˜„

ë¡œê·¸ì¸ íšŸìˆ˜ë¥¼ ë°˜í™˜í•˜ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜ì…ë‹ˆë‹¤:

1. `"Total number of logins: <# of logins>"` í˜•ì‹ì˜ ë¬¸ìì—´ì„ ë°˜í™˜.
2. ì‹¤ì œ `fetchLoginAmount()` í•¨ìˆ˜ì˜ ë°˜í™˜ê°’ì„ ì‚¬ìš©.

```dart
dartì½”ë“œ ë³µì‚¬
Future<String> reportLogins() async {
  var logins = await fetchLoginAmount();
  return 'Total number of logins: $logins';
}

```

ì´ ë‘ ë¹„ë™ê¸° í•¨ìˆ˜ëŠ” `async`ì™€ `await` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë¹„ë™ê¸° ì‘ì—…ì„ ì²˜ë¦¬í•˜ê³ , `Future` íƒ€ì…ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

**ë¹„ë™ê¸° í•¨ìˆ˜ì—ì„œ ì˜¤ë¥˜ ì²˜ë¦¬í•˜ê¸°**

ë¹„ë™ê¸° í•¨ìˆ˜ì—ì„œ ì˜¤ë¥˜ë¥¼ ì²˜ë¦¬í•˜ë ¤ë©´ `try-catch` êµ¬ë¬¸ì„ ì‚¬ìš©í•©ë‹ˆë‹¤:

```dart
try {
  print('Awaiting user order...');
  var order = await fetchUserOrder();
} catch (err) {
  print('Caught error: $err');
}

```

ë¹„ë™ê¸° í•¨ìˆ˜ ë‚´ì—ì„œëŠ” ë™ê¸° ì½”ë“œì™€ ë§ˆì°¬ê°€ì§€ë¡œ `try-catch` êµ¬ë¬¸ì„ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. `await` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë¹„ë™ê¸° ì‘ì—…ì„ ëŒ€ê¸°í•˜ê³ , ì‘ì—… ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ `catch` ë¸”ë¡ì—ì„œ í•´ë‹¹ ì˜¤ë¥˜ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤.

### ì˜ˆì‹œ: `async`ì™€ `await`ë¥¼ ì‚¬ìš©í•œ `try-catch`

ë¹„ë™ê¸° í•¨ìˆ˜ì—ì„œ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì£¼ëŠ” ì˜ˆì‹œì…ë‹ˆë‹¤. ë¹„ë™ê¸° ì‘ì—…ì´ ì‹¤íŒ¨í•  ê²½ìš° `catch` ë¸”ë¡ì—ì„œ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.

---

### ì‹¤ìŠµ: ë¹„ë™ê¸° ì½”ë“œì—ì„œ ì˜¤ë¥˜ ì²˜ë¦¬ ì—°ìŠµ

### ì œê³µëœ í•¨ìˆ˜

- `fetchNewUsername()`: ìƒˆë¡œìš´ ì‚¬ìš©ì ì´ë¦„ì„ ë°˜í™˜í•˜ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜.
    
    ```dart
    Future<String> fetchNewUsername()
    
    ```
    

### `changeUsername()` êµ¬í˜„

ë¹„ë™ê¸° í•¨ìˆ˜ `changeUsername()`ì„ êµ¬í˜„í•˜ì—¬ ë‹¤ìŒ ì‘ì—…ì„ ìˆ˜í–‰í•´ì•¼ í•©ë‹ˆë‹¤:

1. ë¹„ë™ê¸° í•¨ìˆ˜ `fetchNewUsername()`ì„ í˜¸ì¶œí•˜ì—¬ ë°˜í™˜ëœ ê²°ê³¼ë¥¼ ë°˜í™˜.
2. ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ ê·¸ ì˜¤ë¥˜ë¥¼ ì¡ì•„ì„œ ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ì—¬ ë°˜í™˜.

```dart
Future<String> changeUsername() async {
  try {
    var newUsername = await fetchNewUsername();
    return newUsername;
  } catch (err) {
    return err.toString();
  }
}

```

ì´ í•¨ìˆ˜ëŠ” ìƒˆë¡œìš´ ì‚¬ìš©ì ì´ë¦„ì„ ê°€ì ¸ì˜¤ê³ , ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ ì´ë¥¼ ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ì—¬ ë°˜í™˜í•©ë‹ˆë‹¤. `toString()` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ `Exception`ê³¼ `Error`ë¥¼ ë¬¸ìì—´ë¡œ ë³€í™˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ì œ ë°°ìš´ ë‚´ìš©ì„ ì¢…í•©í•˜ì—¬ ìµœì¢… ì—°ìŠµì„ ì§„í–‰í•´ë³´ê² ìŠµë‹ˆë‹¤. ì´ ì—°ìŠµì—ì„œëŠ” ì œê³µëœ ë¹„ë™ê¸° í•¨ìˆ˜ `fetchUsername()`ê³¼ `logoutUser()`ë¥¼ ì‚¬ìš©í•˜ì—¬ ëª‡ ê°€ì§€ í•¨ìˆ˜ë¥¼ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤.

### ì œê³µëœ í•¨ìˆ˜:

- `fetchUsername()`: í˜„ì¬ ì‚¬ìš©ìì˜ ì´ë¦„ì„ ë°˜í™˜í•˜ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜.
    
    ```dart
    Future<String> fetchUsername()
    
    ```
    
- `logoutUser()`: í˜„ì¬ ì‚¬ìš©ìë¥¼ ë¡œê·¸ì•„ì›ƒí•˜ê³  ë¡œê·¸ì•„ì›ƒëœ ì‚¬ìš©ì ì´ë¦„ì„ ë°˜í™˜í•˜ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜.
    
    ```dart
    Future<String> logoutUser()
    
    ```
    

---

### Part 1: `addHello()`

ë‹¨ì¼ ë¬¸ìì—´ ì¸ìˆ˜ë¥¼ ë°›ì•„ì„œ í•´ë‹¹ ë¬¸ìì—´ ì•ì— "Hello "ë¥¼ ë¶™ì—¬ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.

```dart
String addHello(String name) {
  return 'Hello $name';
}

```

ì˜ˆì‹œ: `addHello('Jon')`ì€ `'Hello Jon'`ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

---

### Part 2: `greetUser()`

ì¸ìˆ˜ê°€ ì—†ëŠ” í•¨ìˆ˜ë¡œ, ë¹„ë™ê¸° í•¨ìˆ˜ `fetchUsername()`ì„ í˜¸ì¶œí•˜ì—¬ ì‚¬ìš©ì ì´ë¦„ì„ ê°€ì ¸ì˜¤ê³ , `addHello()`ë¥¼ í˜¸ì¶œí•˜ì—¬ í•´ë‹¹ ì‚¬ìš©ìì—ê²Œ ì¸ì‚¬ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.

```dart
Future<String> greetUser() async {
  try {
    String username = await fetchUsername();
    return addHello(username);
  } catch (e) {
    return 'Error fetching username';
  }
}

```

ì˜ˆì‹œ: `fetchUsername()`ì´ `'Jenny'`ë¥¼ ë°˜í™˜í•˜ë©´ `greetUser()`ëŠ” `'Hello Jenny'`ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

---

### Part 3: `sayGoodbye()`

ì¸ìˆ˜ê°€ ì—†ëŠ” í•¨ìˆ˜ë¡œ, ë¹„ë™ê¸° í•¨ìˆ˜ `logoutUser()`ë¥¼ í˜¸ì¶œí•˜ì—¬ ë¡œê·¸ì•„ì›ƒëœ ì‚¬ìš©ì ì´ë¦„ì„ ê°€ì ¸ì˜µë‹ˆë‹¤. ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ ì˜¤ë¥˜ë¥¼ ì¡ì•„ ì²˜ë¦¬í•˜ë©°, ì„±ê³µí•˜ë©´ `<result> Thanks, see you next time` í˜•ì‹ì˜ ë¬¸ìì—´ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.

```dart
Future<String> sayGoodbye() async {
  try {
    String result = await logoutUser();
    return '$result Thanks, see you next time';
  } catch (e) {
    return 'Error during logout. Goodbye!';
  }
}

```

---

ì´ì œ `addHello()`, `greetUser()`, `sayGoodbye()` í•¨ìˆ˜ë¥¼ ëª¨ë‘ ì‘ì„±í•˜ì—¬ ê°ê°ì˜ ìš”êµ¬ ì‚¬í•­ì„ ì¶©ì¡±í•©ë‹ˆë‹¤.

**Which lints work for futures?**[#](https://dart.dev/libraries/async/async-await#which-lints-work-for-futures)

To catch common mistakes that arise while working with async and futures,Â [enable](https://dart.dev/tools/analysis#individual-rules)Â the following lints:

- [`discarded_futures`](https://dart.dev/tools/linter-rules/discarded_futures)
- [`unawaited_futures`](https://dart.dev/tools/linter-rules/unawaited_futures)

**What's next?**[#](https://dart.dev/libraries/async/async-await#whats-next)

Congratulations, you've finished the tutorial! If you'd like to learn more, here are some suggestions for where to go next:

- Play withÂ [DartPad](https://dartpad.dev/).
- Try anotherÂ [tutorial](https://dart.dev/tutorials).
- Learn more about futures and asynchronous code in Dart:
    - [Streams tutorial](https://dart.dev/libraries/async/using-streams): Learn how to work with a sequence of asynchronous events.
    - [Concurrency in Dart](https://dart.dev/language/concurrency): Understand and learn how to implement concurrency in Dart.
    - [Asynchrony support](https://dart.dev/language/async): Dive in to Dart's language and library support for asynchronous coding.
    - [Dart videos from Google](https://www.youtube.com/playlist?list=PLjxrf2q8roU0Net_g1NT5_vOO3s_FR02J): Watch one or more of the videos about asynchronous coding.
- Get theÂ [Dart SDK](https://dart.dev/get-dart)!

> **Future ê´€ë ¨ ë¦°íŠ¸(Lint)**
> 
> 
> ë¹„ë™ê¸° ì½”ë“œì™€ `Future` ì‘ì—… ì¤‘ ìì£¼ ë°œìƒí•˜ëŠ” ì‹¤ìˆ˜ë¥¼ ì¡ê¸° ìœ„í•´ ë‹¤ìŒ ë¦°íŠ¸ë¥¼ í™œì„±í™”í•˜ì„¸ìš”:
> 
> - **`discarded_futures`**: ì‹¤í–‰ë˜ì§€ ì•Šê³  ë¬´ì‹œëœ `Future` ê°ì²´ë¥¼ ê°ì§€í•˜ëŠ” ë¦°íŠ¸ì…ë‹ˆë‹¤.
> - **`unawaited_futures`**: `await` ì—†ì´ ì‹¤í–‰ë˜ëŠ” `Future`ë¥¼ ê°ì§€í•˜ì—¬ ì ì¬ì ì¸ ë¬¸ì œë¥¼ ì¡ëŠ” ë¦°íŠ¸ì…ë‹ˆë‹¤.
> 
> ### ë‹¤ìŒ ë‹¨ê³„
> 
> íŠœí† ë¦¬ì–¼ì„ ì™„ë£Œí•˜ì…¨ìŠµë‹ˆë‹¤! ë” ë°°ìš°ê³  ì‹¶ë‹¤ë©´ ì•„ë˜ ì¶”ì²œ í•­ëª©ì„ ì°¸ê³ í•˜ì„¸ìš”:
> 
> - **DartPad**ì—ì„œ ì‹¤ìŠµí•˜ê¸°.
> - ë‹¤ë¥¸ íŠœí† ë¦¬ì–¼ ì‹œë„í•´ë³´ê¸°.
> - **Dartì˜ ë¹„ë™ê¸° ì½”ë“œ**ì— ëŒ€í•´ ë” ì•Œì•„ë³´ê¸°:
>     - **Streams íŠœí† ë¦¬ì–¼**: ë¹„ë™ê¸° ì´ë²¤íŠ¸ì˜ ì‹œí€€ìŠ¤ ì²˜ë¦¬ í•™ìŠµ.
>     - **Dartì—ì„œì˜ ë™ì‹œì„±**: Dartì˜ ë™ì‹œì„± êµ¬í˜„ í•™ìŠµ.
>     - **ë¹„ë™ê¸° ì§€ì›**: ë¹„ë™ê¸° ì½”ë“œ ì‘ì„±ì„ ìœ„í•œ Dart ì–¸ì–´ ë° ë¼ì´ë¸ŒëŸ¬ë¦¬ ì§€ì› ê¹Šì´ ì´í•´í•˜ê¸°.
>     - **Dart ê´€ë ¨ ì˜ìƒ**: Googleì˜ ë¹„ë™ê¸° ì½”ë”© ê´€ë ¨ ë™ì˜ìƒ ì‹œì²­í•˜ê¸°.
> - **Dart SDK** ì„¤ì¹˜ ë° í™œìš©.
